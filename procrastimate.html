<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ProcrastiMate ‚Äî Stop Lying to Yourself</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,700&family=DM+Sans:wght@300;400;500;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet"/>
<style>
  :root {
    --bg:       #0e0a14;
    --bg2:      #130e1c;
    --bg3:      #1c1528;
    --card:     #17112299;
    --card-solid: #17112;
    --border:   #2e2044;
    --border-light: #3d2e58;
    --purple:   #7c3aed;
    --purple-light: #a855f7;
    --rose:     #c2758a;
    --rose-light: #e8a0b4;
    --gold:     #d4a843;
    --gold-light: #f0c860;
    --red:      #e05c7a;
    --green:    #5ec4a1;
    --text:     #f0eaf8;
    --muted:    #8a7aa0;
    --muted2:   #5a4d6e;
    --font-display: 'Playfair Display', serif;
    --font-body: 'DM Sans', sans-serif;
    --font-mono: 'JetBrains Mono', monospace;
  }
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  html { scroll-behavior: smooth; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--font-body);
    overflow-x: hidden;
    cursor: none;
  }

  /* CURSOR */
  .cursor {
    width: 10px; height: 10px;
    background: var(--rose-light);
    border-radius: 50%;
    position: fixed; top: 0; left: 0;
    pointer-events: none;
    z-index: 9999;
    mix-blend-mode: screen;
    transition: transform 0.08s ease;
  }
  .cursor-ring {
    width: 32px; height: 32px;
    border: 1px solid rgba(194,117,138,0.5);
    border-radius: 50%;
    position: fixed; top: 0; left: 0;
    pointer-events: none;
    z-index: 9998;
    transition: transform 0.18s ease, width 0.2s, height 0.2s, border-color 0.2s;
  }
  .cursor-ring.hover {
    width: 52px; height: 52px;
    border-color: var(--gold);
  }

  /* NOISE */
  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none; z-index: 10000; opacity: 0.45;
  }

  /* AMBIENT BLOBS */
  .blob {
    position: fixed; border-radius: 50%;
    pointer-events: none; filter: blur(120px); opacity: 0.12;
  }
  .blob-1 { width: 600px; height: 600px; background: var(--purple); top: -200px; left: -150px; animation: blobFloat 12s ease-in-out infinite; }
  .blob-2 { width: 400px; height: 400px; background: var(--rose); top: 40%; right: -100px; animation: blobFloat 15s ease-in-out infinite reverse; }
  .blob-3 { width: 300px; height: 300px; background: var(--gold); bottom: 10%; left: 20%; animation: blobFloat 10s ease-in-out infinite 3s; }
  @keyframes blobFloat {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -40px) scale(1.05); }
    66% { transform: translate(-20px, 20px) scale(0.95); }
  }

  /* NAV */
  nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 500;
    display: flex; align-items: center; justify-content: space-between;
    padding: 1rem 2.5rem;
    background: rgba(14,10,20,0.8);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
  }
  .logo {
    font-family: var(--font-display);
    font-size: 1.5rem;
    font-weight: 900;
    letter-spacing: -0.5px;
    color: var(--text);
    font-style: italic;
  }
  .logo span { color: var(--rose-light); }
  nav ul { list-style: none; display: flex; gap: 2rem; }
  nav ul a {
    color: var(--muted);
    text-decoration: none;
    font-size: 0.84rem;
    font-weight: 500;
    letter-spacing: 0.3px;
    transition: color 0.2s;
  }
  nav ul a:hover { color: var(--rose-light); }
  .nav-cta {
    background: linear-gradient(135deg, var(--purple), var(--rose)) !important;
    color: white !important;
    padding: 0.45rem 1.2rem !important;
    border-radius: 100px;
    font-weight: 600 !important;
    transition: opacity 0.2s !important;
  }
  .nav-cta:hover { opacity: 0.85 !important; color: white !important; }

  /* HERO */
  .hero {
    min-height: 100vh;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center;
    padding: 8rem 2rem 4rem;
    position: relative; overflow: hidden;
  }
  .hero-ornament {
    position: absolute;
    border: 1px solid var(--border-light);
    border-radius: 50%;
    pointer-events: none;
    opacity: 0.3;
  }
  .hero-ornament-1 { width: 600px; height: 600px; top: 50%; left: 50%; transform: translate(-50%, -50%); }
  .hero-ornament-2 { width: 400px; height: 400px; top: 50%; left: 50%; transform: translate(-50%, -50%); animation: spin 40s linear infinite; }
  .hero-ornament-2::before {
    content: '‚ú¶'; position: absolute; top: -8px; left: 50%; transform: translateX(-50%);
    font-size: 12px; color: var(--gold);
  }
  @keyframes spin { to { transform: translate(-50%, -50%) rotate(360deg); } }

  .eyebrow {
    font-family: var(--font-mono);
    font-size: 0.72rem;
    color: var(--gold);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 2rem;
    border: 1px solid rgba(212,168,67,0.3);
    padding: 0.4rem 1.2rem;
    border-radius: 100px;
    display: inline-block;
    background: rgba(212,168,67,0.06);
    animation: fadeUp 0.7s ease both;
  }
  .hero h1 {
    font-family: var(--font-display);
    font-size: clamp(3.5rem, 10vw, 9rem);
    line-height: 0.95;
    font-weight: 900;
    animation: fadeUp 0.7s 0.1s ease both;
    position: relative;
    letter-spacing: -2px;
  }
  .hero h1 em {
    font-style: italic;
    color: var(--rose-light);
    display: block;
  }
  .hero h1 .dim {
    color: var(--muted2);
    position: relative;
    display: inline-block;
  }
  .hero h1 .dim::after {
    content: '';
    position: absolute;
    left: 0; right: 0; top: 55%;
    height: 4px;
    background: var(--red);
    transform: rotate(-1.5deg);
    border-radius: 2px;
  }
  .hero h1 .gold { color: var(--gold-light); }
  .hero-sub {
    font-size: 1.1rem;
    color: var(--muted);
    max-width: 500px;
    line-height: 1.75;
    margin: 2rem auto 0;
    animation: fadeUp 0.7s 0.2s ease both;
  }
  .hero-sub strong { color: var(--text); font-weight: 600; }
  .hero-sub em { color: var(--rose-light); font-style: normal; }
  .hero-btns {
    display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;
    margin-top: 2.5rem;
    animation: fadeUp 0.7s 0.3s ease both;
  }
  .btn-primary {
    background: linear-gradient(135deg, var(--purple), var(--rose));
    color: white;
    font-weight: 700;
    font-size: 0.95rem;
    padding: 0.9rem 2.2rem;
    border-radius: 100px;
    border: none;
    cursor: none;
    transition: transform 0.15s, box-shadow 0.15s;
    letter-spacing: 0.3px;
    font-family: var(--font-body);
    position: relative; overflow: hidden;
  }
  .btn-primary::after {
    content: ''; position: absolute; inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
    transform: translateX(-100%); transition: transform 0.5s;
  }
  .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 12px 40px rgba(124,58,237,0.4); }
  .btn-primary:hover::after { transform: translateX(100%); }
  .btn-ghost {
    background: transparent;
    color: var(--muted);
    font-size: 0.95rem;
    padding: 0.9rem 2.2rem;
    border-radius: 100px;
    border: 1px solid var(--border-light);
    cursor: none;
    transition: all 0.15s;
    font-family: var(--font-body);
  }
  .btn-ghost:hover { border-color: var(--rose); color: var(--rose-light); }

  .live-ticker {
    margin-top: 4rem;
    display: flex; gap: 3rem; flex-wrap: wrap; justify-content: center;
    animation: fadeUp 0.7s 0.4s ease both;
  }
  .ticker-item { text-align: center; }
  .ticker-val {
    font-family: var(--font-display);
    font-size: 2.2rem;
    font-weight: 900;
    color: var(--gold-light);
    line-height: 1;
  }
  .ticker-label {
    font-size: 0.68rem;
    color: var(--muted);
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-top: 0.3rem;
  }
  .ticker-divider { width: 1px; background: var(--border); align-self: stretch; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(24px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  /* SECTIONS */
  section { padding: 6rem 2rem; }
  .section-label {
    font-family: var(--font-mono);
    font-size: 0.68rem;
    color: var(--rose);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 0.8rem;
    display: flex; align-items: center; gap: 0.7rem;
  }
  .section-label::after {
    content: ''; flex: 0 0 40px; height: 1px; background: var(--rose); opacity: 0.4;
  }
  .section-title {
    font-family: var(--font-display);
    font-size: clamp(2.2rem, 5vw, 4.5rem);
    line-height: 1.05;
    font-weight: 900;
    letter-spacing: -1px;
  }
  .section-title em { font-style: italic; color: var(--rose-light); }
  .container { max-width: 1100px; margin: 0 auto; }

  /* HOW IT WORKS */
  #how { background: var(--bg2); }
  .steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.5rem;
    margin-top: 3.5rem;
  }
  .step-card {
    background: rgba(28,21,40,0.7);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 2rem 1.5rem;
    position: relative; overflow: hidden;
    transition: border-color 0.2s, transform 0.2s;
    backdrop-filter: blur(10px);
  }
  .step-card:hover { border-color: var(--rose); transform: translateY(-4px); }
  .step-card::before {
    content: attr(data-num);
    font-family: var(--font-display);
    font-size: 6rem;
    font-weight: 900;
    color: rgba(194,117,138,0.05);
    position: absolute;
    top: -1.5rem; right: 0.5rem;
    line-height: 1;
    font-style: italic;
  }
  .step-card::after {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; height: 1px;
    background: linear-gradient(90deg, transparent, var(--rose), transparent);
    opacity: 0;
    transition: opacity 0.3s;
  }
  .step-card:hover::after { opacity: 0.6; }
  .step-icon { font-size: 1.8rem; margin-bottom: 1rem; }
  .step-card h3 { font-size: 1.05rem; font-weight: 700; margin-bottom: 0.5rem; }
  .step-card p { color: var(--muted); font-size: 0.88rem; line-height: 1.65; }
  .step-note {
    font-family: var(--font-mono);
    font-size: 0.7rem;
    color: var(--gold);
    margin-top: 0.8rem;
    opacity: 0.8;
  }

  /* PLEDGE SECTION */
  #pledge { background: var(--bg); }
  .pledge-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2.5rem;
    margin-top: 3.5rem;
    align-items: start;
  }
  @media (max-width: 768px) { .pledge-wrapper { grid-template-columns: 1fr; } }
  .pledge-form {
    background: rgba(23,17,34,0.8);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 2.5rem;
    backdrop-filter: blur(20px);
  }
  .form-group { margin-bottom: 1.5rem; }
  label {
    display: block;
    font-size: 0.72rem;
    font-weight: 600;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 0.5rem;
  }
  input, textarea, select {
    width: 100%;
    background: rgba(14,10,20,0.6);
    border: 1px solid var(--border);
    border-radius: 10px;
    color: var(--text);
    padding: 0.85rem 1rem;
    font-family: var(--font-body);
    font-size: 0.95rem;
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
    cursor: none;
  }
  input:focus, textarea:focus, select:focus {
    border-color: var(--rose);
    box-shadow: 0 0 0 3px rgba(194,117,138,0.12);
  }
  textarea { resize: vertical; min-height: 90px; }
  select option { background: var(--bg3); }

  .stake-options { display: flex; gap: 0.6rem; flex-wrap: wrap; }
  .stake-btn {
    flex: 1; min-width: 60px;
    padding: 0.65rem 0;
    border: 1px solid var(--border);
    background: rgba(14,10,20,0.6);
    color: var(--muted);
    border-radius: 10px;
    font-family: var(--font-mono);
    font-size: 0.85rem;
    cursor: none;
    transition: all 0.15s;
    text-align: center;
  }
  .stake-btn.active {
    border-color: var(--gold);
    color: var(--gold-light);
    background: rgba(212,168,67,0.1);
  }
  .stake-btn:hover { border-color: var(--gold); color: var(--gold-light); }

  .charity-select { display: grid; grid-template-columns: 1fr 1fr; gap: 0.6rem; margin-top: 0.5rem; }
  .charity-opt {
    padding: 0.7rem;
    border: 1px solid var(--border);
    border-radius: 10px;
    background: rgba(14,10,20,0.6);
    font-size: 0.82rem;
    color: var(--muted);
    cursor: none;
    transition: all 0.15s;
    text-align: center;
  }
  .charity-opt.active {
    border-color: var(--green);
    color: var(--green);
    background: rgba(94,196,161,0.08);
  }
  .charity-opt:hover { border-color: var(--green); color: var(--green); }

  .submit-pledge {
    width: 100%;
    padding: 1rem;
    background: linear-gradient(135deg, var(--purple), var(--rose));
    color: white;
    font-size: 1rem;
    font-weight: 700;
    border: none;
    border-radius: 12px;
    cursor: none;
    font-family: var(--font-body);
    letter-spacing: 0.5px;
    margin-top: 0.5rem;
    transition: box-shadow 0.2s, transform 0.15s;
    position: relative; overflow: hidden;
  }
  .submit-pledge:hover {
    box-shadow: 0 10px 40px rgba(124,58,237,0.4);
    transform: translateY(-2px);
  }
  .submit-pledge::after {
    content: '';
    position: absolute; inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.12), transparent);
    transform: translateX(-100%); transition: transform 0.4s;
  }
  .submit-pledge:hover::after { transform: translateX(100%); }

  /* PROOF OF COMPLETION */
  .proof-section {
    margin-top: 1rem;
    background: rgba(94,196,161,0.06);
    border: 1px solid rgba(94,196,161,0.2);
    border-radius: 12px;
    padding: 1.2rem;
    display: none;
  }
  .proof-section.visible { display: block; }
  .proof-section label { color: var(--green); }
  .proof-note {
    font-size: 0.78rem;
    color: var(--muted);
    margin-top: 0.5rem;
    font-style: italic;
  }
  .proof-type-tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
  .proof-tab {
    padding: 0.4rem 0.9rem;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--muted);
    border-radius: 100px;
    font-family: var(--font-body);
    font-size: 0.78rem;
    cursor: none;
    transition: all 0.15s;
  }
  .proof-tab.active {
    border-color: var(--green);
    color: var(--green);
    background: rgba(94,196,161,0.1);
    font-weight: 600;
  }

  /* LIVE FEED */
  .live-feed {
    background: rgba(23,17,34,0.8);
    border: 1px solid var(--border);
    border-radius: 20px;
    overflow: hidden;
    backdrop-filter: blur(20px);
  }
  .feed-header {
    padding: 1.2rem 1.5rem;
    border-bottom: 1px solid var(--border);
    display: flex; align-items: center; gap: 0.7rem;
    font-size: 0.85rem; font-weight: 600;
  }
  .live-dot {
    width: 7px; height: 7px;
    background: var(--rose-light);
    border-radius: 50%;
    animation: pulse 1.5s infinite;
    box-shadow: 0 0 8px var(--rose);
  }
  @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.4; transform: scale(1.4); } }
  .feed-list { max-height: 460px; overflow-y: auto; }
  .feed-list::-webkit-scrollbar { width: 3px; }
  .feed-list::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
  .feed-item {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    display: flex; gap: 1rem; align-items: flex-start;
    transition: background 0.15s;
  }
  .feed-item:hover { background: rgba(194,117,138,0.04); }
  .feed-avatar {
    width: 36px; height: 36px;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 1rem; flex-shrink: 0;
    background: rgba(28,21,40,0.8);
    border: 1px solid var(--border);
  }
  .feed-content { flex: 1; }
  .feed-name { font-size: 0.85rem; font-weight: 600; color: var(--text); }
  .feed-goal { font-size: 0.82rem; color: var(--muted); margin-top: 0.2rem; line-height: 1.5; }
  .feed-meta { display: flex; gap: 0.6rem; margin-top: 0.5rem; flex-wrap: wrap; align-items: center; }
  .badge {
    font-family: var(--font-mono);
    font-size: 0.68rem;
    padding: 0.2rem 0.6rem;
    border-radius: 4px;
  }
  .badge-stake { background: rgba(212,168,67,0.12); color: var(--gold); border: 1px solid rgba(212,168,67,0.25); }
  .badge-time { background: rgba(194,117,138,0.12); color: var(--rose-light); border: 1px solid rgba(194,117,138,0.25); }
  .badge-done { background: rgba(94,196,161,0.1); color: var(--green); border: 1px solid rgba(94,196,161,0.25); }
  .badge-failed { background: rgba(224,92,122,0.1); color: var(--red); border: 1px solid rgba(224,92,122,0.25); }
  .badge-proof { background: rgba(168,85,247,0.12); color: var(--purple-light); border: 1px solid rgba(168,85,247,0.3); }

  /* PROOF MODAL (verify completion) */
  .proof-modal-overlay {
    position: fixed; inset: 0;
    background: rgba(8,5,15,0.92);
    backdrop-filter: blur(12px);
    z-index: 900;
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none;
    transition: opacity 0.3s;
    padding: 2rem;
  }
  .proof-modal-overlay.show { opacity: 1; pointer-events: all; }
  .proof-modal {
    background: rgba(23,17,34,0.98);
    border: 1px solid var(--border-light);
    border-radius: 24px;
    padding: 2.5rem;
    max-width: 560px; width: 100%;
    transform: translateY(20px) scale(0.97);
    transition: transform 0.3s;
    position: relative;
    overflow: hidden;
  }
  .proof-modal::before {
    content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
    background: linear-gradient(90deg, var(--purple), var(--rose), var(--gold));
  }
  .proof-modal-overlay.show .proof-modal { transform: translateY(0) scale(1); }
  .proof-modal h3 {
    font-family: var(--font-display);
    font-size: 1.8rem;
    font-weight: 900;
    margin-bottom: 0.3rem;
  }
  .proof-modal h3 em { font-style: italic; color: var(--green); }
  .proof-modal .subtitle {
    color: var(--muted); font-size: 0.88rem; margin-bottom: 1.8rem; line-height: 1.6;
  }
  .proof-tabs { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
  .proof-modal-tab {
    padding: 0.5rem 1rem;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--muted);
    border-radius: 100px;
    font-family: var(--font-body);
    font-size: 0.82rem;
    cursor: none;
    transition: all 0.15s;
  }
  .proof-modal-tab.active {
    border-color: var(--green);
    color: var(--green);
    background: rgba(94,196,161,0.1);
    font-weight: 600;
  }
  .proof-panel { display: none; }
  .proof-panel.active { display: block; }
  .proof-drop-zone {
    border: 2px dashed var(--border-light);
    border-radius: 12px;
    padding: 2.5rem;
    text-align: center;
    cursor: none;
    transition: all 0.2s;
    background: rgba(14,10,20,0.5);
  }
  .proof-drop-zone:hover, .proof-drop-zone.dragover {
    border-color: var(--green);
    background: rgba(94,196,161,0.05);
  }
  .proof-drop-zone .drop-icon { font-size: 2.5rem; margin-bottom: 0.8rem; }
  .proof-drop-zone p { color: var(--muted); font-size: 0.88rem; }
  .proof-drop-zone strong { color: var(--text); }
  .proof-drop-zone input[type=file] { display: none; }
  .proof-img-preview {
    width: 100%;
    max-height: 200px;
    object-fit: cover;
    border-radius: 10px;
    margin-top: 1rem;
    border: 1px solid var(--border);
    display: none;
  }
  .proof-url-input { margin-top: 0.5rem; }
  .proof-url-input label { color: var(--muted); }
  .proof-text-area textarea { min-height: 120px; }
  .proof-checklist { margin-top: 0.5rem; }
  .check-item {
    display: flex; align-items: center; gap: 0.8rem;
    padding: 0.7rem 0;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    cursor: none;
  }
  .check-item:last-child { border-bottom: none; }
  .check-item input[type=checkbox] {
    width: 18px; height: 18px;
    min-width: 18px;
    padding: 0;
    accent-color: var(--green);
    cursor: none;
    border-radius: 4px;
  }
  .check-item span { font-size: 0.88rem; color: var(--muted); flex: 1; }
  .check-item.checked span { color: var(--text); text-decoration: line-through; color: var(--muted); }
  .proof-submit-btn {
    width: 100%;
    padding: 0.9rem;
    background: linear-gradient(135deg, var(--green), #3aaa88);
    color: #0a1f18;
    font-size: 0.95rem;
    font-weight: 800;
    border: none;
    border-radius: 10px;
    cursor: none;
    font-family: var(--font-body);
    margin-top: 1.5rem;
    transition: box-shadow 0.2s, transform 0.15s;
  }
  .proof-submit-btn:hover {
    box-shadow: 0 8px 30px rgba(94,196,161,0.35);
    transform: translateY(-2px);
  }
  .proof-close {
    position: absolute; top: 1.2rem; right: 1.5rem;
    background: none; border: none; color: var(--muted);
    font-size: 1.2rem; cursor: none;
    transition: color 0.15s;
  }
  .proof-close:hover { color: var(--text); }
  .proof-warning {
    background: rgba(212,168,67,0.08);
    border: 1px solid rgba(212,168,67,0.2);
    border-radius: 8px;
    padding: 0.8rem 1rem;
    font-size: 0.8rem;
    color: var(--gold);
    margin-top: 1rem;
    line-height: 1.6;
  }
  .proof-warning strong { color: var(--gold-light); }

  /* SUCCESS MODAL */
  .modal-overlay {
    position: fixed; inset: 0;
    background: rgba(8,5,15,0.92);
    backdrop-filter: blur(12px);
    z-index: 800;
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none;
    transition: opacity 0.3s;
    padding: 1rem;
  }
  .modal-overlay.show { opacity: 1; pointer-events: all; }
  .modal {
    background: rgba(23,17,34,0.98);
    border: 1px solid var(--border-light);
    border-radius: 24px;
    padding: 3rem 2.5rem;
    max-width: 460px; width: 100%;
    text-align: center;
    transform: scale(0.92) translateY(10px);
    transition: transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative; overflow: hidden;
  }
  .modal::before {
    content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
    background: linear-gradient(90deg, var(--purple), var(--rose), var(--gold));
  }
  .modal-overlay.show .modal { transform: scale(1) translateY(0); }
  .modal-emoji { font-size: 3.5rem; margin-bottom: 1rem; }
  .modal h2 {
    font-family: var(--font-display);
    font-size: 2.2rem;
    font-weight: 900;
    font-style: italic;
    color: var(--rose-light);
    margin-bottom: 0.5rem;
  }
  .modal p { color: var(--muted); line-height: 1.65; margin-bottom: 1rem; font-size: 0.92rem; }
  .modal-code {
    font-family: var(--font-mono);
    background: rgba(14,10,20,0.7);
    border: 1px solid var(--border-light);
    border-radius: 10px;
    padding: 1rem;
    font-size: 1.2rem;
    color: var(--gold-light);
    letter-spacing: 4px;
    margin: 1rem 0;
  }
  .modal-close {
    background: linear-gradient(135deg, var(--purple), var(--rose));
    color: white;
    font-weight: 700;
    padding: 0.8rem 2.2rem;
    border: none;
    border-radius: 100px;
    cursor: none;
    font-family: var(--font-body);
    font-size: 0.9rem;
    margin-top: 0.5rem;
    transition: opacity 0.2s;
  }
  .modal-close:hover { opacity: 0.85; }

  /* TRACKER */
  #tracker { background: var(--bg2); padding: 5rem 2rem; }
  .my-pledges {
    margin-top: 3rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
    gap: 1.5rem;
  }
  .pledge-card {
    background: rgba(23,17,34,0.8);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.5rem;
    transition: border-color 0.2s;
    backdrop-filter: blur(10px);
  }
  .pledge-card:hover { border-color: rgba(194,117,138,0.35); }
  .pledge-card-header {
    display: flex; justify-content: space-between; align-items: flex-start;
    margin-bottom: 1rem;
  }
  .pledge-card-title { font-weight: 600; font-size: 0.92rem; line-height: 1.4; max-width: 80%; }
  .pledge-progress { height: 3px; background: rgba(255,255,255,0.06); border-radius: 2px; margin: 0.8rem 0; overflow: hidden; }
  .pledge-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--purple), var(--rose));
    border-radius: 2px; transition: width 0.5s ease;
  }
  .pledge-countdown {
    font-family: var(--font-mono);
    font-size: 1.2rem;
    color: var(--rose-light);
    letter-spacing: 1.5px;
  }
  .pledge-countdown.urgent { color: var(--red); animation: blink 1s infinite; }
  @keyframes blink { 50% { opacity: 0.35; } }
  .pledge-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 1rem; gap: 0.5rem; flex-wrap: wrap; }
  .pledge-footer-time { font-size: 0.78rem; color: var(--muted); }
  .pledge-actions { display: flex; gap: 0.5rem; }
  .complete-btn {
    padding: 0.45rem 1rem;
    background: rgba(94,196,161,0.1);
    color: var(--green);
    border: 1px solid rgba(94,196,161,0.25);
    border-radius: 100px;
    font-size: 0.78rem;
    font-weight: 600;
    cursor: none;
    font-family: var(--font-body);
    transition: all 0.15s;
  }
  .complete-btn:hover { background: rgba(94,196,161,0.2); }
  .proof-btn {
    padding: 0.45rem 1rem;
    background: rgba(168,85,247,0.1);
    color: var(--purple-light);
    border: 1px solid rgba(168,85,247,0.25);
    border-radius: 100px;
    font-size: 0.78rem;
    font-weight: 600;
    cursor: none;
    font-family: var(--font-body);
    transition: all 0.15s;
  }
  .proof-btn:hover { background: rgba(168,85,247,0.2); }
  .proof-status {
    display: flex; align-items: center; gap: 0.4rem;
    font-size: 0.75rem; color: var(--green);
    font-family: var(--font-mono);
    margin-top: 0.5rem;
  }
  .proof-status .dot { width: 6px; height: 6px; background: var(--green); border-radius: 50%; }

  /* LEADERBOARD */
  #leaderboard { background: var(--bg); }
  .lb-tabs { display: flex; gap: 0.5rem; margin-top: 2.5rem; margin-bottom: 2rem; flex-wrap: wrap; }
  .lb-tab {
    padding: 0.55rem 1.3rem;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--muted);
    border-radius: 100px;
    font-family: var(--font-body);
    font-size: 0.82rem;
    cursor: none;
    transition: all 0.15s;
  }
  .lb-tab.active {
    background: linear-gradient(135deg, var(--purple), var(--rose));
    color: white;
    border-color: transparent;
    font-weight: 700;
  }
  .lb-table {
    background: rgba(23,17,34,0.8);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
    backdrop-filter: blur(10px);
  }
  .lb-row {
    display: grid;
    grid-template-columns: 50px 1fr auto auto auto;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    align-items: center;
    transition: background 0.15s;
  }
  .lb-row:hover { background: rgba(194,117,138,0.04); }
  .lb-row:last-child { border-bottom: none; }
  .lb-row.header {
    background: rgba(14,10,20,0.5);
    font-size: 0.68rem;
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--muted2);
  }
  .lb-rank { font-family: var(--font-mono); font-size: 0.85rem; color: var(--muted); text-align: center; }
  .lb-rank.gold { color: #FFD700; }
  .lb-rank.silver { color: #C0C0C0; }
  .lb-rank.bronze { color: #CD7F32; }
  .lb-user { font-weight: 500; font-size: 0.88rem; }
  .lb-user span { color: var(--muted); font-size: 0.78rem; font-weight: 400; display: block; margin-top: 0.1rem; }
  .lb-streak { font-family: var(--font-mono); font-size: 0.82rem; color: var(--rose-light); text-align: right; }
  .lb-saved { font-family: var(--font-mono); font-size: 0.82rem; color: var(--green); text-align: right; }
  .lb-proof { font-family: var(--font-mono); font-size: 0.72rem; color: var(--purple-light); text-align: right; }

  /* STATS */
  #stats { background: var(--bg2); }
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem; margin-top: 3rem;
  }
  @media (max-width: 768px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } }
  .stat-card {
    background: rgba(23,17,34,0.7);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 2rem 1.5rem;
    text-align: center;
    transition: border-color 0.2s, transform 0.2s;
    backdrop-filter: blur(10px);
  }
  .stat-card:hover { border-color: var(--rose); transform: translateY(-3px); }
  .stat-val {
    font-family: var(--font-display);
    font-size: 2.8rem;
    font-weight: 900;
    font-style: italic;
    line-height: 1;
    color: var(--gold-light);
  }
  .stat-label { font-size: 0.75rem; color: var(--muted); letter-spacing: 1.5px; text-transform: uppercase; margin-top: 0.5rem; }
  .stat-sub { font-size: 0.72rem; color: rgba(194,117,138,0.7); margin-top: 0.3rem; font-family: var(--font-mono); }

  /* FOOTER */
  footer {
    background: var(--bg);
    border-top: 1px solid var(--border);
    padding: 3rem 2.5rem;
    text-align: center;
    color: var(--muted);
    font-size: 0.85rem;
  }
  footer .foot-logo {
    font-family: var(--font-display);
    font-size: 2rem;
    font-weight: 900;
    font-style: italic;
    color: var(--text);
    margin-bottom: 0.5rem;
  }
  footer .foot-logo span { color: var(--rose-light); }
  footer p { max-width: 480px; margin: 0.5rem auto; line-height: 1.65; }
  footer .foot-links { display: flex; gap: 2rem; justify-content: center; margin-top: 1.5rem; flex-wrap: wrap; }
  footer .foot-links a { color: var(--muted); text-decoration: none; transition: color 0.2s; }
  footer .foot-links a:hover { color: var(--rose-light); }

  /* TOAST */
  .toast {
    position: fixed; bottom: 2rem; right: 2rem;
    background: rgba(23,17,34,0.95);
    border: 1px solid var(--border-light);
    border-radius: 14px;
    padding: 1rem 1.5rem;
    z-index: 600;
    font-size: 0.88rem;
    max-width: 320px;
    transform: translateX(130%);
    transition: transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
    backdrop-filter: blur(20px);
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  }
  .toast.show { transform: translateX(0); }
  .toast-title { font-weight: 700; color: var(--rose-light); margin-bottom: 0.2rem; }
  .toast-body { color: var(--muted); }

  /* SCROLL REVEAL */
  .reveal {
    opacity: 0; transform: translateY(28px);
    transition: opacity 0.65s ease, transform 0.65s ease;
  }
  .reveal.visible { opacity: 1; transform: translateY(0); }

  @media (max-width: 600px) {
    nav ul { display: none; }
    .hero h1 { font-size: 3.2rem; }
    .steps { grid-template-columns: 1fr; }
    .lb-row { grid-template-columns: 40px 1fr auto; }
    .lb-proof, .lb-saved { display: none; }
  }

  /* DIVIDER ORNAMENT */
  .ornament-divider {
    text-align: center;
    color: var(--muted2);
    font-size: 0.8rem;
    letter-spacing: 8px;
    margin: 0;
    padding: 2rem;
    opacity: 0.5;
  }
</style>
</head>
<body>

<div class="blob blob-1"></div>
<div class="blob blob-2"></div>
<div class="blob blob-3"></div>
<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>

<!-- NAV -->
<nav>
  <div class="logo">Procrasti<span>Mate</span></div>
  <ul>
    <li><a href="#how">How It Works</a></li>
    <li><a href="#pledge">Make a Pledge</a></li>
    <li><a href="#leaderboard">Leaderboard</a></li>
    <li><a href="#pledge" class="nav-cta">Stop Stalling</a></li>
  </ul>
</nav>

<!-- HERO -->
<section class="hero" id="home">
  <div class="hero-ornament hero-ornament-1"></div>
  <div class="hero-ornament hero-ornament-2"></div>
  <div class="eyebrow">‚ú¶ 2,847 people are being humbled in real time ‚ú¶</div>
  <h1>
    <span class="dim">Tomorrow</span><br>
    is just <em>today</em><br>
    <span class="gold">lying.</span>
  </h1>
  <p class="hero-sub">
    Say what you'll do. <strong>Stake your money on it.</strong> Miss the deadline and your cash disappears into the void ‚Äî specifically, <em>a charity you actually care about.</em> We're not sorry.
  </p>
  <div class="hero-btns">
    <button class="btn-primary" onclick="scrollToPledge()">Make a Promise I'll Hold You To</button>
    <button class="btn-ghost" onclick="document.getElementById('how').scrollIntoView({behavior:'smooth'})">How bad can it be?</button>
  </div>
  <div class="live-ticker">
    <div class="ticker-item">
      <div class="ticker-val" id="heroStaked">$84,220</div>
      <div class="ticker-label">Total Staked</div>
    </div>
    <div class="ticker-divider"></div>
    <div class="ticker-item">
      <div class="ticker-val" id="heroGoals">12,490</div>
      <div class="ticker-label">Goals Declared</div>
    </div>
    <div class="ticker-divider"></div>
    <div class="ticker-item">
      <div class="ticker-val" id="heroSuccess">73%</div>
      <div class="ticker-label">Actually Did It</div>
    </div>
    <div class="ticker-divider"></div>
    <div class="ticker-item">
      <div class="ticker-val" id="heroDonated">$9,310</div>
      <div class="ticker-label">Donated (oops)</div>
    </div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section id="how">
  <div class="container">
    <div class="section-label reveal">/ How It Works</div>
    <h2 class="section-title reveal">Embarrassingly<br><em>Simple.</em></h2>
    <div class="steps">
      <div class="step-card reveal" data-num="01">
        <div class="step-icon">üéØ</div>
        <h3>Say What You'll Do</h3>
        <p>Be specific. "Work on my novel" is not a goal, it's a vibe. "Finish chapter 3 by Friday 10 PM" ‚Äî now we're talking.</p>
        <div class="step-note">// specificity is your only friend here</div>
      </div>
      <div class="step-card reveal" data-num="02">
        <div class="step-icon">üí∏</div>
        <h3>Put Money On It</h3>
        <p>Stake $5 to $500. Loss aversion is real ‚Äî the sting of losing $20 hits harder than the joy of a gold star. We exploit that.</p>
        <div class="step-note">// psychology, but make it painful</div>
      </div>
      <div class="step-card reveal" data-num="03">
        <div class="step-icon">üëÅÔ∏è</div>
        <h3>Go Public</h3>
        <p>Strangers will see your pledge. Some will root for you. Some will silently judge. Both are motivating, honestly.</p>
        <div class="step-note">// shame is underrated</div>
      </div>
      <div class="step-card reveal" data-num="04">
        <div class="step-icon">üì∏</div>
        <h3>Prove It or Lose It</h3>
        <p>Submit real proof ‚Äî a screenshot, photo, link, or checklist. No receipt, no refund. "I did it, trust me" is not proof.</p>
        <div class="step-note">// screenshots or it didn't happen</div>
      </div>
    </div>
  </div>
</section>

<!-- PLEDGE FORM -->
<section id="pledge">
  <div class="container">
    <div class="section-label reveal">/ Make Your Pledge</div>
    <h2 class="section-title reveal">Alright.<br><em>Commit.</em></h2>
    <div class="pledge-wrapper">
      <div class="pledge-form reveal">
        <div class="form-group">
          <label>What exactly will you accomplish?</label>
          <textarea id="goalText" placeholder="e.g. Finish the landing page design, all 5 sections, exported and sent to client ‚Äî by Sunday 11 PM. No extensions."></textarea>
        </div>
        <div class="form-group">
          <label>Your name / handle (so the internet knows)</label>
          <input type="text" id="userName" placeholder="@yourusername" />
        </div>
        <div class="form-group">
          <label>Deadline (the real one, not the fake one)</label>
          <input type="datetime-local" id="deadlineInput" />
        </div>
        <div class="form-group">
          <label>How much are you willing to lose?</label>
          <div class="stake-options" id="stakeOptions">
            <div class="stake-btn" onclick="setStake(this,'5')">$5</div>
            <div class="stake-btn active" onclick="setStake(this,'20')">$20</div>
            <div class="stake-btn" onclick="setStake(this,'50')">$50</div>
            <div class="stake-btn" onclick="setStake(this,'100')">$100</div>
            <div class="stake-btn" onclick="setStake(this,'custom')">Custom</div>
          </div>
          <input type="number" id="customStake" placeholder="Go ahead. Be brave." style="margin-top:0.7rem; display:none;" />
        </div>
        <div class="form-group">
          <label>If I blow it, my money goes to:</label>
          <div class="charity-select" id="charitySelect">
            <div class="charity-opt active" onclick="setCharity(this,'Red Cross')">ü©∏ Red Cross</div>
            <div class="charity-opt" onclick="setCharity(this,'WWF')">üêº WWF</div>
            <div class="charity-opt" onclick="setCharity(this,'UNICEF')">üåç UNICEF</div>
            <div class="charity-opt" onclick="setCharity(this,'Food Bank')">üç± Food Bank</div>
          </div>
        </div>
        <div class="form-group">
          <label>How will you prove you did it?</label>
          <div class="proof-type-tabs" id="proofTypeSelect">
            <div class="proof-tab active" onclick="setProofType(this,'screenshot')" data-type="screenshot">üì∏ Screenshot</div>
            <div class="proof-tab" onclick="setProofType(this,'photo')" data-type="photo">üì∑ Photo</div>
            <div class="proof-tab" onclick="setProofType(this,'link')" data-type="link">üîó Link / URL</div>
            <div class="proof-tab" onclick="setProofType(this,'checklist')" data-type="checklist">‚úÖ Checklist</div>
          </div>
          <p style="font-size:0.78rem; color:var(--muted); font-style:italic; margin-top:0.3rem;" id="proofHint">You'll upload a screenshot when marking done. A vague "I did it" will not fly.</p>
        </div>
        <button class="submit-pledge" onclick="submitPledge()">‚ú¶ Lock In My Pledge ‚ú¶</button>
      </div>

      <!-- LIVE FEED -->
      <div class="live-feed reveal">
        <div class="feed-header">
          <div class="live-dot"></div>
          Live Confessions
          <span style="margin-left:auto; color:var(--muted); font-size:0.73rem; font-weight:400;" id="feedCount">2,847 sweating</span>
        </div>
        <div class="feed-list" id="feedList"></div>
      </div>
    </div>
  </div>
</section>

<!-- ACTIVE PLEDGES TRACKER -->
<section id="tracker">
  <div class="container">
    <div class="section-label reveal">/ Your Dashboard</div>
    <h2 class="section-title reveal">The Things<br><em>You Promised.</em></h2>
    <div class="my-pledges" id="myPledges"></div>
    <p id="noPledges" style="color:var(--muted); margin-top:2rem; font-size:0.9rem; display:none; font-style:italic;">
      Nothing here yet. Which, honestly, is on you. ‚Üë Make a pledge up there.
    </p>
  </div>
</section>

<!-- LEADERBOARD -->
<section id="leaderboard">
  <div class="container">
    <div class="section-label reveal">/ Hall of Fame & Shame</div>
    <h2 class="section-title reveal">The Good.<br><em>The Donors.</em></h2>
    <div class="lb-tabs">
      <button class="lb-tab active" onclick="setTab(this,'winners')">üèÜ Champions</button>
      <button class="lb-tab" onclick="setTab(this,'losers')">üí∏ Generous Failures</button>
      <button class="lb-tab" onclick="setTab(this,'streaks')">üî• On Fire</button>
    </div>
    <div class="lb-table" id="lbTable"></div>
  </div>
</section>

<!-- STATS -->
<section id="stats">
  <div class="container">
    <div class="section-label reveal">/ By the Numbers</div>
    <h2 class="section-title reveal">It's Awkward<br><em>How Well It Works.</em></h2>
    <div class="stats-grid">
      <div class="stat-card reveal">
        <div class="stat-val">73%</div>
        <div class="stat-label">Success Rate</div>
        <div class="stat-sub">vs 12% without stake</div>
      </div>
      <div class="stat-card reveal">
        <div class="stat-val">$84K</div>
        <div class="stat-label">Total Staked</div>
        <div class="stat-sub">this month alone</div>
      </div>
      <div class="stat-card reveal">
        <div class="stat-val">$9.3K</div>
        <div class="stat-label">Donated</div>
        <div class="stat-sub">well-intentioned losses</div>
      </div>
      <div class="stat-card reveal">
        <div class="stat-val">98%</div>
        <div class="stat-label">Proof Verified</div>
        <div class="stat-sub">no lying through here</div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="foot-logo">Procrasti<span>Mate</span></div>
  <p>The accountability partner you didn't ask for but absolutely needed.</p>
  <p style="margin-top:0.3rem; font-size:0.78rem; opacity:0.6;">For students, founders, writers ‚Äî anyone who's said "I'll do it later" at least once today.</p>
  <div class="foot-links">
    <a href="#">About</a>
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
    <a href="#">Contact</a>
    <a href="#">Blog</a>
  </div>
  <p style="margin-top:2.5rem; font-size:0.72rem; opacity:0.3;">¬© 2025 ProcrastiMate. Tomorrow is not a real deadline.</p>
</footer>

<!-- SUCCESS MODAL -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <div class="modal-emoji">‚ú¶</div>
    <h2>Pledge Locked.</h2>
    <p>Your goal is public. The clock is running. Strangers are watching ‚Äî not actively, but they could. That's enough.</p>
    <div class="modal-code" id="pledgeCode">PM-0000</div>
    <p style="font-size:0.78rem;">Keep this code. You'll need it to submit proof of completion.</p>
    <button class="modal-close" onclick="closeModal()">Right. Better get started. ‚Üí</button>
  </div>
</div>

<!-- PROOF MODAL -->
<div class="proof-modal-overlay" id="proofModalOverlay">
  <div class="proof-modal">
    <button class="proof-close" onclick="closeProofModal()">‚úï</button>
    <h3>Submit Your <em>Evidence</em></h3>
    <p class="subtitle">No blurry photos of nothing. No "here's a link to a blank page." Real proof or it doesn't count. We're rooting for you ‚Äî but we're also watching.</p>

    <div class="proof-tabs" id="proofModalTabs"></div>

    <!-- Screenshot / Photo upload -->
    <div class="proof-panel active" id="panel-screenshot">
      <div class="proof-drop-zone" id="dropZone" onclick="document.getElementById('fileInput').click()">
        <div class="drop-icon">üì∏</div>
        <p><strong>Click to upload</strong> or drag & drop</p>
        <p style="margin-top:0.3rem; font-size:0.78rem;">PNG, JPG, GIF ‚Äî max 10MB</p>
        <input type="file" id="fileInput" accept="image/*" onchange="handleFileUpload(event)" />
      </div>
      <img id="imgPreview" class="proof-img-preview" alt="Proof preview" />
    </div>

    <!-- Link panel -->
    <div class="proof-panel" id="panel-link">
      <div class="proof-url-input">
        <label>Link to your completed work</label>
        <input type="url" id="proofUrl" placeholder="https://github.com/you/project or Figma link..." style="margin-top:0.5rem;" />
      </div>
      <div class="form-group" style="margin-top:1rem;">
        <label>Briefly describe what this link shows</label>
        <textarea id="proofUrlDesc" placeholder="e.g. This is the live deployed version of my portfolio, all 5 sections visible..." style="min-height:70px;"></textarea>
      </div>
    </div>

    <!-- Text / written proof -->
    <div class="proof-panel" id="panel-text">
      <div class="proof-text-area form-group">
        <label>Describe exactly what you completed</label>
        <textarea id="proofText" placeholder="Be specific. What did you do? What's the output? Where can it be seen? The more detail, the more credible you look..." style="min-height:120px;"></textarea>
      </div>
    </div>

    <!-- Checklist panel -->
    <div class="proof-panel" id="panel-checklist">
      <p style="font-size:0.82rem; color:var(--muted); margin-bottom:1rem;">Check off each part of your goal you completed. All items must be checked to verify.</p>
      <div class="proof-checklist" id="proofChecklist"></div>
    </div>

    <div class="proof-warning">
      <strong>Heads up:</strong> Submitting fake proof is considered fraud, makes you look bad in front of the whole leaderboard, and costs $0 extra but infinite dignity. Just... don't.
    </div>

    <button class="proof-submit-btn" onclick="submitProof()">‚úì Submit Proof & Reclaim My Money</button>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast">
  <div class="toast-title" id="toastTitle">‚ú¶ New pledge!</div>
  <div class="toast-body" id="toastBody">Someone just committed to something.</div>
</div>

<script>
// ‚îÄ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const cursor = document.getElementById('cursor');
const ring = document.getElementById('cursorRing');
let mx = 0, my = 0, rx = 0, ry = 0;
document.addEventListener('mousemove', e => {
  mx = e.clientX; my = e.clientY;
  cursor.style.transform = `translate(${mx - 5}px, ${my - 5}px)`;
});
(function animRing() {
  rx += (mx - rx) * 0.12; ry += (my - ry) * 0.12;
  ring.style.transform = `translate(${rx - 16}px, ${ry - 16}px)`;
  requestAnimationFrame(animRing);
})();
document.querySelectorAll('button, a, .stake-btn, .charity-opt, .lb-tab, .proof-tab, .proof-modal-tab, .proof-drop-zone, .check-item').forEach(el => {
  el.addEventListener('mouseenter', () => ring.classList.add('hover'));
  el.addEventListener('mouseleave', () => ring.classList.remove('hover'));
});

// ‚îÄ‚îÄ‚îÄ SCROLL REVEAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const revealObs = new IntersectionObserver(entries => {
  entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
}, { threshold: 0.1 });
document.querySelectorAll('.reveal').forEach(el => revealObs.observe(el));

// ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let selectedStake = '20';
let selectedCharity = 'Red Cross';
let selectedProofType = 'screenshot';
let myPledgesList = [];
let currentProofPledgeId = null;
let uploadedImageData = null;

// ‚îÄ‚îÄ‚îÄ HELPERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const emojis = ['üöÄ','üìö','üí™','üé®','üß™','üéØ','üíª','‚úçÔ∏è','üèãÔ∏è','üé∏','üìê','üî¨','üå±','üé≠','ü¶ã'];
const names = ['alex_builds','saria.c','v_creates','dev_biscuit','thuy_codes','rina_w','frank_writes','noor_makes','jae_studio','priya_dev','carlos_x','lena_art','mo_creates','fen_dev'];
const goals = [
  'Finish React portfolio ‚Äî all 5 sections + deploy',
  'Complete first 5 pages of short story, formatted',
  'Submit university application draft to mentor',
  'Record, edit & upload YouTube productivity video',
  'Complete Python ML course module 4 with notes',
  'Design 3 logo concepts + present to client',
  'Write 2000 words of thesis introduction',
  'Build and deploy MVP backend API with docs',
  'Finish "Atomic Habits" + 500-word summary',
  'Complete Figma prototype ‚Äî all flows clickable',
  'Pitch deck: all 12 slides, narrative complete',
  'Finish illustration commission + deliver files',
];
const charities = ['Red Cross','WWF','UNICEF','Food Bank'];
const statuses = ['active','active','active','active','active','active','done','failed'];
const proofTypes = ['screenshot','link','checklist'];
function randomInt(a, b) { return Math.floor(Math.random() * (b - a + 1)) + a; }
function randomItem(arr) { return arr[randomInt(0, arr.length - 1)]; }

// ‚îÄ‚îÄ‚îÄ FEED ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let feedItems = Array.from({length: 18}, (_, i) => ({
  id: i, name: randomItem(names), emoji: randomItem(emojis),
  goal: randomItem(goals), stake: randomItem([5,10,20,50,100]),
  charity: randomItem(charities), hoursLeft: randomInt(1, 72),
  status: randomItem(statuses), proofType: randomItem(proofTypes),
  hasProof: Math.random() > 0.5
}));

function renderFeed() {
  const list = document.getElementById('feedList');
  const all = [...myPledgesList.map(p => ({...p, isMine: true})), ...feedItems];
  list.innerHTML = all.map(item => {
    const status = item.status || 'active';
    const statusBadge = status === 'done'
      ? `<span class="badge badge-done">‚úÖ Done</span>`
      : status === 'failed'
      ? `<span class="badge badge-failed">üí∏ Donated</span>`
      : `<span class="badge badge-time">‚è∞ ${item.hoursLeft}h left</span>`;
    const proofBadge = (item.hasProof || item.proofSubmitted)
      ? `<span class="badge badge-proof">üì∏ Proved</span>` : '';
    return `
      <div class="feed-item">
        <div class="feed-avatar">${item.emoji || 'üéØ'}</div>
        <div class="feed-content">
          <div class="feed-name">${item.name || item.userName}${item.isMine ? ' <span style="color:var(--rose-light);font-size:0.68rem;font-style:italic;">(you)</span>' : ''}</div>
          <div class="feed-goal">${item.goal || item.goalText}</div>
          <div class="feed-meta">
            <span class="badge badge-stake">$${item.stake} ‚Üí ${item.charity || item.selectedCharity}</span>
            ${statusBadge}
            ${proofBadge}
          </div>
        </div>
      </div>`;
  }).join('');
}

// ‚îÄ‚îÄ‚îÄ FORM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function setStake(el, val) {
  document.querySelectorAll('.stake-btn').forEach(b => b.classList.remove('active'));
  el.classList.add('active');
  const custom = document.getElementById('customStake');
  if (val === 'custom') { selectedStake = 'custom'; custom.style.display = 'block'; custom.focus(); }
  else { selectedStake = val; custom.style.display = 'none'; }
}
function setCharity(el, val) {
  document.querySelectorAll('.charity-opt').forEach(b => b.classList.remove('active'));
  el.classList.add('active'); selectedCharity = val;
}

const proofHints = {
  screenshot: 'You\'ll upload a screenshot when marking done. A vague "I did it" will not fly.',
  photo: 'Take a real photo of your completed work. Not your cat. (Unless your goal was about your cat.)',
  link: 'Provide a link to the live/published result. A broken link is not proof.',
  checklist: 'Break your goal into sub-tasks. All must be checked to verify.'
};
function setProofType(el, val) {
  document.querySelectorAll('.proof-tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active');
  selectedProofType = val;
  document.getElementById('proofHint').textContent = proofHints[val] || '';
}

// ‚îÄ‚îÄ‚îÄ SUBMIT PLEDGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function submitPledge() {
  const goal = document.getElementById('goalText').value.trim();
  const name = document.getElementById('userName').value.trim();
  const deadline = document.getElementById('deadlineInput').value;
  const stakeAmt = selectedStake === 'custom'
    ? parseFloat(document.getElementById('customStake').value)
    : parseFloat(selectedStake);
  if (!goal) { showToast('‚ö†Ô∏è What\'s the goal?', 'Be specific. "Be better" is not a goal.'); return; }
  if (!name) { showToast('‚ö†Ô∏è Who are you?', 'Add your name. Anonymity and accountability don\'t mix.'); return; }
  if (!deadline) { showToast('‚ö†Ô∏è No deadline?', 'A goal without a deadline is just a dream. Set one.'); return; }
  if (!stakeAmt || stakeAmt < 1) { showToast('‚ö†Ô∏è Pick a stake', 'Put something real on the line.'); return; }

  // Build checklist items for checklist proof type
  const checklistItems = selectedProofType === 'checklist'
    ? goal.split(',').map(s => s.trim()).filter(Boolean).slice(0, 5)
    : [];

  const pledge = {
    id: Date.now(),
    userName: name, goalText: goal,
    deadline: new Date(deadline),
    stake: stakeAmt, charity: selectedCharity,
    emoji: randomItem(emojis),
    proofType: selectedProofType,
    checklistItems,
    status: 'active',
    created: new Date(),
    proofSubmitted: false
  };
  myPledgesList.push(pledge);
  renderFeed(); renderMyPledges();
  showModal(pledge);
  document.getElementById('goalText').value = '';
  document.getElementById('userName').value = '';
  document.getElementById('deadlineInput').value = '';
}

// ‚îÄ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showModal(pledge) {
  const code = 'PM-' + Math.floor(Math.random() * 9000 + 1000);
  document.getElementById('pledgeCode').textContent = code;
  document.getElementById('modalOverlay').classList.add('show');
}
function closeModal() { document.getElementById('modalOverlay').classList.remove('show'); }
document.getElementById('modalOverlay').addEventListener('click', function(e) { if (e.target === this) closeModal(); });

// ‚îÄ‚îÄ‚îÄ MY PLEDGES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderMyPledges() {
  const container = document.getElementById('myPledges');
  const noPledges = document.getElementById('noPledges');
  container.innerHTML = '';
  const active = myPledgesList.filter(p => p.status !== 'failed' && p.status !== 'abandoned');
  if (active.length === 0) { noPledges.style.display = 'block'; return; }
  noPledges.style.display = 'none';
  active.forEach(pledge => {
    const now = new Date();
    const dl = new Date(pledge.deadline);
    const totalMs = dl - new Date(pledge.created);
    const leftMs = Math.max(0, dl - now);
    const pct = Math.min(100, Math.max(0, ((totalMs - leftMs) / totalMs) * 100));
    const h = Math.floor(leftMs / 3600000);
    const m = Math.floor((leftMs % 3600000) / 60000);
    const s = Math.floor((leftMs % 60000) / 1000);
    const timeStr = leftMs <= 0 ? 'TIME\'S UP' : h > 48 ? `${Math.floor(h/24)}d ${h%24}h` : `${h}h ${m}m ${s}s`;
    const urgent = h < 2 && leftMs > 0;
    const isDone = pledge.status === 'done';
    const proofLine = pledge.proofSubmitted
      ? `<div class="proof-status"><div class="dot"></div>Proof submitted ‚úì</div>`
      : '';

    const card = document.createElement('div');
    card.className = 'pledge-card';
    card.id = 'pcard-' + pledge.id;
    card.innerHTML = `
      <div class="pledge-card-header">
        <div class="pledge-card-title">${pledge.emoji} ${pledge.goalText}</div>
        <span class="badge badge-stake">$${pledge.stake}</span>
      </div>
      <div style="font-size:0.76rem; color:var(--muted); margin-bottom:0.3rem; font-style:italic;">
        Miss it ‚Üí $${pledge.stake} to ${pledge.charity}
      </div>
      <div style="font-size:0.73rem; color:var(--muted2); margin-bottom:0.5rem;">
        Proof required: ${pledge.proofType === 'screenshot' ? 'üì∏ Screenshot' : pledge.proofType === 'photo' ? 'üì∑ Photo' : pledge.proofType === 'link' ? 'üîó Link' : '‚úÖ Checklist'}
      </div>
      <div class="pledge-progress">
        <div class="pledge-progress-fill" style="width:${pct}%"></div>
      </div>
      ${isDone ? `<div style="color:var(--green); font-family:var(--font-mono); font-size:1rem;">‚úì COMPLETED</div>` : `<div class="pledge-countdown${urgent ? ' urgent' : ''}" id="cd-${pledge.id}">${timeStr}</div>`}
      ${proofLine}
      <div class="pledge-footer">
        <div class="pledge-footer-time">Due: ${dl.toLocaleDateString()} ${dl.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})}</div>
        ${!isDone ? `<div class="pledge-actions">
          <button class="proof-btn" onclick="openProofModal(${pledge.id})">üì∏ Submit Proof</button>
          <button class="complete-btn" onclick="completePledge(${pledge.id})">‚úì Done</button>
        </div>` : ''}
      </div>
    `;
    container.appendChild(card);
  });
}

// ‚îÄ‚îÄ‚îÄ PROOF MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openProofModal(pledgeId) {
  currentProofPledgeId = pledgeId;
  const pledge = myPledgesList.find(p => p.id === pledgeId);
  if (!pledge) return;
  uploadedImageData = null;
  document.getElementById('imgPreview').style.display = 'none';
  document.getElementById('imgPreview').src = '';
  if (document.getElementById('proofUrl')) document.getElementById('proofUrl').value = '';
  if (document.getElementById('proofText')) document.getElementById('proofText').value = '';

  // Build tabs based on proof type
  const tabsEl = document.getElementById('proofModalTabs');
  const allTypes = pledge.proofType === 'screenshot' || pledge.proofType === 'photo'
    ? [{ id: 'screenshot', label: 'üì∏ Upload File' }, { id: 'link', label: 'üîó Or a Link' }]
    : pledge.proofType === 'link'
    ? [{ id: 'link', label: 'üîó Link / URL' }, { id: 'screenshot', label: 'üì∏ Or a Screenshot' }]
    : pledge.proofType === 'checklist'
    ? [{ id: 'checklist', label: '‚úÖ Checklist' }, { id: 'screenshot', label: 'üì∏ Plus a Screenshot' }]
    : [{ id: 'screenshot', label: 'üì∏ Upload' }, { id: 'link', label: 'üîó Link' }];

  tabsEl.innerHTML = allTypes.map((t, i) =>
    `<button class="proof-modal-tab${i === 0 ? ' active' : ''}" onclick="switchProofPanel(this,'${t.id}')">${t.label}</button>`
  ).join('');

  // Populate checklist if applicable
  if (pledge.proofType === 'checklist' && pledge.checklistItems?.length > 0) {
    document.getElementById('proofChecklist').innerHTML = pledge.checklistItems.map((item, i) =>
      `<div class="check-item" id="ci-${i}">
        <input type="checkbox" onchange="toggleCheckItem(${i})" />
        <span>${item || 'Sub-task ' + (i+1)}</span>
      </div>`
    ).join('');
  } else if (pledge.proofType === 'checklist') {
    // Generate generic checklist from goal
    const parts = pledge.goalText.split(/[,\.]/).filter(p => p.trim().length > 3).slice(0, 4);
    const items = parts.length > 0 ? parts : ['Primary objective complete', 'Work can be demonstrated', 'Meets original criteria'];
    document.getElementById('proofChecklist').innerHTML = items.map((item, i) =>
      `<div class="check-item" id="ci-${i}">
        <input type="checkbox" onchange="toggleCheckItem(${i})" />
        <span>${item.trim()}</span>
      </div>`
    ).join('');
  }

  // Show first panel
  document.querySelectorAll('.proof-panel').forEach(p => p.classList.remove('active'));
  const firstPanelId = allTypes[0].id === 'screenshot' ? 'screenshot' : allTypes[0].id;
  const firstPanel = document.getElementById('panel-' + firstPanelId);
  if (firstPanel) firstPanel.classList.add('active');

  document.getElementById('proofModalOverlay').classList.add('show');
}

function switchProofPanel(el, panelId) {
  document.querySelectorAll('.proof-modal-tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active');
  document.querySelectorAll('.proof-panel').forEach(p => p.classList.remove('active'));
  const panel = document.getElementById('panel-' + panelId);
  if (panel) panel.classList.add('active');
}

function toggleCheckItem(i) {
  const item = document.getElementById('ci-' + i);
  if (item) item.classList.toggle('checked');
}

function closeProofModal() {
  document.getElementById('proofModalOverlay').classList.remove('show');
}
document.getElementById('proofModalOverlay').addEventListener('click', function(e) {
  if (e.target === this) closeProofModal();
});

// Drag & drop
const dropZone = document.getElementById('dropZone');
dropZone.addEventListener('dragover', e => { e.preventDefault(); dropZone.classList.add('dragover'); });
dropZone.addEventListener('dragleave', () => dropZone.classList.remove('dragover'));
dropZone.addEventListener('drop', e => {
  e.preventDefault(); dropZone.classList.remove('dragover');
  const file = e.dataTransfer.files[0];
  if (file && file.type.startsWith('image/')) processImageFile(file);
});

function handleFileUpload(e) {
  const file = e.target.files[0];
  if (file) processImageFile(file);
}

function processImageFile(file) {
  const reader = new FileReader();
  reader.onload = ev => {
    uploadedImageData = ev.target.result;
    const preview = document.getElementById('imgPreview');
    preview.src = uploadedImageData;
    preview.style.display = 'block';
    showToast('üì∏ File loaded!', `${file.name} ‚Äî looking good.`);
  };
  reader.readAsDataURL(file);
}

function submitProof() {
  const pledge = myPledgesList.find(p => p.id === currentProofPledgeId);
  if (!pledge) return;

  // Determine active panel
  const activePanel = document.querySelector('.proof-panel.active');
  const panelId = activePanel ? activePanel.id : '';

  if (panelId === 'panel-screenshot') {
    if (!uploadedImageData) { showToast('‚ö†Ô∏è No file!', 'Upload a screenshot or photo first.'); return; }
  } else if (panelId === 'panel-link') {
    const url = document.getElementById('proofUrl').value.trim();
    if (!url) { showToast('‚ö†Ô∏è No link!', 'Paste the link to your completed work.'); return; }
  } else if (panelId === 'panel-text') {
    const text = document.getElementById('proofText').value.trim();
    if (text.length < 30) { showToast('‚ö†Ô∏è Too vague', 'Describe your completion in at least a sentence.'); return; }
  } else if (panelId === 'panel-checklist') {
    const checked = document.querySelectorAll('#proofChecklist input[type=checkbox]:checked');
    const total = document.querySelectorAll('#proofChecklist input[type=checkbox]');
    if (checked.length < total.length) { showToast('‚ö†Ô∏è Not all done!', `Check all ${total.length} items to verify completion.`); return; }
  }

  pledge.proofSubmitted = true;
  pledge.status = 'done';
  closeProofModal();
  renderMyPledges(); renderFeed();
  showToast('üéâ Proof accepted!', `Your $${pledge.stake} is coming back. Well done, actually.`);
}

function completePledge(id) {
  const pledge = myPledgesList.find(p => p.id === id);
  if (!pledge) return;
  if (!pledge.proofSubmitted) {
    showToast('üì∏ Proof required!', 'Submit proof first. Hit the purple button.');
    openProofModal(id);
    return;
  }
  pledge.status = 'done';
  renderMyPledges(); renderFeed();
  showToast('‚ú¶ Goal Complete!', `"${pledge.goalText.slice(0,45)}..." ‚Äî $${pledge.stake} reclaimed.`);
}

// ‚îÄ‚îÄ‚îÄ COUNTDOWN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
setInterval(() => {
  myPledgesList.forEach(pledge => {
    if (pledge.status !== 'active') return;
    const leftMs = Math.max(0, new Date(pledge.deadline) - new Date());
    const h = Math.floor(leftMs / 3600000);
    const m = Math.floor((leftMs % 3600000) / 60000);
    const s = Math.floor((leftMs % 60000) / 1000);
    const timeStr = leftMs <= 0 ? 'TIME\'S UP' : h > 48 ? `${Math.floor(h/24)}d ${h%24}h` : `${h}h ${m}m ${s}s`;
    const cdEl = document.getElementById('cd-' + pledge.id);
    if (cdEl) { cdEl.textContent = timeStr; if (h < 2 && leftMs > 0) cdEl.classList.add('urgent'); }
    if (leftMs <= 0 && pledge.status === 'active') {
      pledge.status = 'failed';
      showToast('üí∏ Time\'s Up!', `$${pledge.stake} is headed to ${pledge.charity}. Hope it was worth it.`);
      renderMyPledges(); renderFeed();
    }
  });
}, 1000);

// ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showToast(title, body) {
  document.getElementById('toastTitle').textContent = title;
  document.getElementById('toastBody').textContent = body;
  const t = document.getElementById('toast');
  t.classList.add('show');
  clearTimeout(t._timeout);
  t._timeout = setTimeout(() => t.classList.remove('show'), 4500);
}
const liveToasts = [
  ['‚ú¶ New Pledge', 'alex_builds just staked $50 on finishing their portfolio'],
  ['‚è∞ 1 Hour Left', 'priya_dev has one hour. The vibe is tense.'],
  ['üì∏ Proof Submitted', 'noor_makes uploaded proof for their logo designs'],
  ['üí∏ Time\'s Up', '$20 from jae_studio just went to Red Cross. RIP.'],
  ['üî• On a Streak', 'thuy_codes is 7-for-7. Honestly impressive.'],
  ['‚úÖ Verified!', 'rina_w\'s checklist approved. $100 returned.'],
];
setInterval(() => { const m = randomItem(liveToasts); showToast(m[0], m[1]); }, 14000);

// ‚îÄ‚îÄ‚îÄ LEADERBOARD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const lbData = {
  winners: [
    { rank:1, name:'thuy_codes', sub:'14 goals ¬∑ all verified', streak:'üî• 14', saved:'$280', proof:'14/14' },
    { rank:2, name:'priya_dev', sub:'11 goals ¬∑ 10 verified', streak:'üî• 11', saved:'$220', proof:'10/11' },
    { rank:3, name:'noor_makes', sub:'9 goals ¬∑ all verified', streak:'üî• 9', saved:'$180', proof:'9/9' },
    { rank:4, name:'carlos_x', sub:'7 goals completed', streak:'üî• 7', saved:'$140', proof:'7/7' },
    { rank:5, name:'saria.c', sub:'6 goals completed', streak:'üî• 6', saved:'$120', proof:'6/6' },
    { rank:6, name:'dev_biscuit', sub:'5 goals completed', streak:'üî• 5', saved:'$100', proof:'5/5' },
  ],
  losers: [
    { rank:1, name:'frank_writes', sub:'6 failed pledges', streak:'üí∏ 6x', saved:'$120 donated', proof:'0/6' },
    { rank:2, name:'lena_art', sub:'4 failed pledges', streak:'üí∏ 4x', saved:'$80 donated', proof:'0/4' },
    { rank:3, name:'v_creates', sub:'3 failed pledges', streak:'üí∏ 3x', saved:'$60 donated', proof:'1/4' },
    { rank:4, name:'jae_studio', sub:'2 failed pledges', streak:'üí∏ 2x', saved:'$40 donated', proof:'0/2' },
  ],
  streaks: [
    { rank:1, name:'thuy_codes', sub:'Current active streak', streak:'üî• 14 days', saved:'$280 kept', proof:'100%' },
    { rank:2, name:'priya_dev', sub:'Current active streak', streak:'üî• 11 days', saved:'$220 kept', proof:'91%' },
    { rank:3, name:'alex_builds', sub:'Current active streak', streak:'üî• 8 days', saved:'$160 kept', proof:'100%' },
    { rank:4, name:'rina_w', sub:'Current active streak', streak:'üî• 5 days', saved:'$100 kept', proof:'100%' },
  ]
};
function setTab(el, tab) {
  document.querySelectorAll('.lb-tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active'); renderLB(tab);
}
function renderLB(tab) {
  const data = lbData[tab];
  const table = document.getElementById('lbTable');
  const rc = r => r === 1 ? 'gold' : r === 2 ? 'silver' : r === 3 ? 'bronze' : '';
  const ri = r => r === 1 ? 'ü•á' : r === 2 ? 'ü•à' : r === 3 ? 'ü•â' : `#${r}`;
  table.innerHTML = `
    <div class="lb-row header">
      <div>Rank</div>
      <div>User</div>
      <div style="text-align:right">${tab === 'winners' ? 'Streak' : tab === 'streaks' ? 'Streak' : 'Failures'}</div>
      <div style="text-align:right">${tab === 'losers' ? 'Donated' : 'Saved'}</div>
      <div style="text-align:right">Proof %</div>
    </div>
    ${data.map(u => `
      <div class="lb-row">
        <div class="lb-rank ${rc(u.rank)}">${ri(u.rank)}</div>
        <div class="lb-user">${u.name}<span>${u.sub}</span></div>
        <div class="lb-streak">${u.streak}</div>
        <div class="lb-saved">${u.saved}</div>
        <div class="lb-proof">${u.proof}</div>
      </div>`).join('')}`;
}

// ‚îÄ‚îÄ‚îÄ TICKER ANIM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function animateNum(el, start, end, prefix = '', suffix = '', dur = 2000) {
  let t0 = null;
  (function step(ts) {
    if (!t0) t0 = ts;
    const p = Math.min((ts - t0) / dur, 1);
    el.textContent = prefix + Math.floor(p * (end - start) + start).toLocaleString() + suffix;
    if (p < 1) requestAnimationFrame(step);
  })(performance.now());
}

// ‚îÄ‚îÄ‚îÄ DEFAULTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const now = new Date();
now.setDate(now.getDate() + 3); now.setHours(23, 59, 0, 0);
const pad = n => String(n).padStart(2, '0');
document.getElementById('deadlineInput').value =
  `${now.getFullYear()}-${pad(now.getMonth()+1)}-${pad(now.getDate())}T${pad(now.getHours())}:${pad(now.getMinutes())}`;

function scrollToPledge() { document.getElementById('pledge').scrollIntoView({ behavior: 'smooth' }); }

// ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
renderFeed(); renderLB('winners'); renderMyPledges();
setTimeout(() => {
  animateNum(document.getElementById('heroStaked'), 0, 84220, '$');
  animateNum(document.getElementById('heroGoals'), 0, 12490);
  animateNum(document.getElementById('heroDonated'), 0, 9310, '$');
}, 400);

setInterval(() => {
  feedItems.unshift({
    id: Date.now(), name: randomItem(names), emoji: randomItem(emojis),
    goal: randomItem(goals), stake: randomItem([5,10,20,50,100]),
    charity: randomItem(charities), hoursLeft: randomInt(1, 72),
    status: 'active', hasProof: false
  });
  if (feedItems.length > 25) feedItems.pop();
  renderFeed();
}, 18000);
</script>
</body>
</html>
